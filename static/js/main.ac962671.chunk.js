(this["webpackJsonprummikub-ai"]=this["webpackJsonprummikub-ai"]||[]).push([[0],{21:function(l,n,r){},28:function(l,n,r){"use strict";r.r(n);var u=r(0),o=r(1),e=r.n(o),c=r(4),t=r.n(c);r(21);var a=function(){return Object(u.jsxs)("div",{className:"header-wrap",children:[Object(u.jsx)("div",{className:"header-left",children:"RUMMIKUB 2Player"}),Object(u.jsx)("div",{className:"header-right",children:Object(u.jsx)("a",{href:"https://github.com/maxbildner/rummikub-ai",target:"_blank",rel:"noreferrer",children:"GIT REPO"})})]})},m=r(2);var i=Object(m.b)((function(l){return{currentPlayer:l.players.currentPlayer}}),(function(l){return{}}))((function(l){return Object(u.jsxs)("div",{className:"sidebarleft-wrap",children:[Object(u.jsx)("div",{children:"Current Player: "}),l.currentPlayer]})}));var s=function(){return Object(u.jsx)("div",{className:"sidebarright-wrap",children:"SideBarRight"})},E=r(10),d=r(11),R=r(15),p=r(13);var j=function(l){return Object(u.jsxs)("div",{className:"welcome-wrap",children:[Object(u.jsx)("div",{children:"Welcome! Press play to begin"}),Object(u.jsx)("button",{className:"play",onClick:l.handleClickPlay,children:"PLAY"})]})},h="UPDATE_CURRENT_PLAYER",f="UPDATE_PLAYER_RACK",b="REMOVE_TILES_FROM_POUCH",v=function(l,n){return{type:f,newRack:l,name:n}},L=r(14);function B(l,n){for(var r,u=[],o=Object(L.a)(l);u.length<n;){var e=(r=o.length-1,Math.floor(Math.random()*r+1)),c=[o[e],o[o.length-1]];o[o.length-1]=c[0],o[e]=c[1];var t=o.pop();u.push(t)}return u}function O(l){var n=[];return l.forEach((function(l,r){n.push(l.slice())})),n}var y={1:{num:1,color:"BLACK"},2:{num:2,color:"BLACK"},3:{num:3,color:"BLACK"},4:{num:4,color:"BLACK"},5:{num:5,color:"BLACK"},6:{num:6,color:"BLACK"},7:{num:7,color:"BLACK"},8:{num:8,color:"BLACK"},9:{num:9,color:"BLACK"},10:{num:10,color:"BLACK"},11:{num:11,color:"BLACK"},12:{num:12,color:"BLACK"},13:{num:13,color:"BLACK"},14:{num:1,color:"BLACK"},15:{num:2,color:"BLACK"},16:{num:3,color:"BLACK"},17:{num:4,color:"BLACK"},18:{num:5,color:"BLACK"},19:{num:6,color:"BLACK"},20:{num:7,color:"BLACK"},21:{num:8,color:"BLACK"},22:{num:9,color:"BLACK"},23:{num:10,color:"BLACK"},24:{num:11,color:"BLACK"},25:{num:12,color:"BLACK"},26:{num:13,color:"BLACK"},27:{num:1,color:"BLUE"},28:{num:2,color:"BLUE"},29:{num:3,color:"BLUE"},30:{num:4,color:"BLUE"},31:{num:5,color:"BLUE"},32:{num:6,color:"BLUE"},33:{num:7,color:"BLUE"},34:{num:8,color:"BLUE"},35:{num:9,color:"BLUE"},36:{num:10,color:"BLUE"},37:{num:11,color:"BLUE"},38:{num:12,color:"BLUE"},39:{num:13,color:"BLUE"},40:{num:1,color:"BLUE"},41:{num:2,color:"BLUE"},42:{num:3,color:"BLUE"},43:{num:4,color:"BLUE"},44:{num:5,color:"BLUE"},45:{num:6,color:"BLUE"},46:{num:7,color:"BLUE"},47:{num:8,color:"BLUE"},48:{num:9,color:"BLUE"},49:{num:10,color:"BLUE"},50:{num:11,color:"BLUE"},51:{num:12,color:"BLUE"},52:{num:13,color:"BLUE"},53:{num:1,color:"RED"},54:{num:2,color:"RED"},55:{num:3,color:"RED"},56:{num:4,color:"RED"},57:{num:5,color:"RED"},58:{num:6,color:"RED"},59:{num:7,color:"RED"},60:{num:8,color:"RED"},61:{num:9,color:"RED"},62:{num:10,color:"RED"},63:{num:11,color:"RED"},64:{num:12,color:"RED"},65:{num:13,color:"RED"},66:{num:1,color:"RED"},67:{num:2,color:"RED"},68:{num:3,color:"RED"},69:{num:4,color:"RED"},70:{num:5,color:"RED"},71:{num:6,color:"RED"},72:{num:7,color:"RED"},73:{num:8,color:"RED"},74:{num:9,color:"RED"},75:{num:10,color:"RED"},76:{num:11,color:"RED"},77:{num:12,color:"RED"},78:{num:13,color:"RED"},79:{num:1,color:"GREEN"},80:{num:2,color:"GREEN"},81:{num:3,color:"GREEN"},82:{num:4,color:"GREEN"},83:{num:5,color:"GREEN"},84:{num:6,color:"GREEN"},85:{num:7,color:"GREEN"},86:{num:8,color:"GREEN"},87:{num:9,color:"GREEN"},88:{num:10,color:"GREEN"},89:{num:11,color:"GREEN"},90:{num:12,color:"GREEN"},91:{num:13,color:"GREEN"},92:{num:1,color:"GREEN"},93:{num:2,color:"GREEN"},94:{num:3,color:"GREEN"},95:{num:4,color:"GREEN"},96:{num:5,color:"GREEN"},97:{num:6,color:"GREEN"},98:{num:7,color:"GREEN"},99:{num:8,color:"GREEN"},100:{num:9,color:"GREEN"},101:{num:10,color:"GREEN"},102:{num:11,color:"GREEN"},103:{num:12,color:"GREEN"},104:{num:13,color:"GREEN"},105:{num:14,color:"RED"},106:{num:15,color:"BLACK"}};var N=Object(m.b)((function(l){return{}}),(function(l){return{updatePlayerRack:function(n,r){return l(v(n,r))}}}))((function(l){var n=l.tileId,r=l.rowIdx,o=l.colIdx,e=l.playerRack,c=l.updatePlayerRack;return Object(u.jsx)("div",{className:n?"tile-wrap "+y[n].color:"tile-wrap",draggable:!!n,onDragStart:function(l){console.log("START");var u='{ "row": '.concat(r,', "col": ').concat(o,', "tileId": ').concat(n," }");l.dataTransfer.setData("draggedTile",u)},onDragOver:function(l){console.log("OVER"),l.preventDefault()},onDragEnter:function(l){console.log("ENTER"),l.preventDefault()},onDrop:function(l){console.log("DROP");var u=JSON.parse(l.dataTransfer.getData("draggedTile")),t=function(l,n,r){var u=O(l);if(null===r.tileId)u[r.row][r.col]=n.tileId;else{var o=l[r.row].slice(r.col);o=o.filter((function(l){return null!==l})),u[r.row][r.col]=n.tileId;for(var e=r.col+o.length+1,c=0,t=r.col+1;t<e;t++)u[r.row][t]=o[c],c++}return u[n.row][n.col]=null,u}(e,u,{row:r,col:o,tileId:n});c(t,"player1")},children:l.tileId?y[l.tileId].num:null})}));var C=function(){var l=[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]].map((function(l,n){var r=l.map((function(l,r){return Object(u.jsx)(N,{className:"tile-wrap"},n+1+r)}));return Object(u.jsx)("div",{className:"board-row",children:r},n)}));return Object(u.jsx)("div",{className:"board-wrap",children:l})};var g=function(l){var n=l.player1Rack,r=n.map((function(l,r){var o=l.map((function(l,o){return Object(u.jsx)(N,{className:"rack-tile-wrap",tileId:l,rowIdx:r,colIdx:o,playerRack:n},r+1+o)}));return Object(u.jsx)("div",{className:"rack-row",children:o},r)}));return Object(u.jsx)("div",{className:"rack-wrap",children:r})},w=function(l){Object(R.a)(r,l);var n=Object(p.a)(r);function r(){var l;Object(E.a)(this,r);for(var o=arguments.length,e=new Array(o),c=0;c<o;c++)e[c]=arguments[c];return(l=n.call.apply(n,[this].concat(e))).handleClickPlay=function(){var n=l.props,r=n.pouch,u=n.updateCurrentPlayer,o=n.removeTilesFromPouch,e=n.updatePlayerRack,c=n.player1Rack;u("player1");var t=B(new Set(r),16);o(t);for(var a=O(c),m=a[0],i=0;i<m.length&&0!==t.length;i++)a[0][i]=t.pop();e(a,"player1")},l.renderGame=function(){var n=l.props.player1Rack;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(C,{}),Object(u.jsx)(g,{player1Rack:n})]})},l}return Object(d.a)(r,[{key:"render",value:function(){var l=this.props.currentPlayer;return Object(u.jsx)("div",{className:"mainmiddle-wrap",children:l?this.renderGame():Object(u.jsx)(j,{handleClickPlay:this.handleClickPlay})})}}]),r}(e.a.Component),D=Object(m.b)((function(l){return{currentPlayer:l.players.currentPlayer,pouch:l.pouch,player1Rack:l.players.player1}}),(function(l){return{updateCurrentPlayer:function(n){return l(function(l){return{type:h,name:l}}(n))},updatePlayerRack:function(n,r){return l(v(n,r))},removeTilesFromPouch:function(n){return l(function(l){return{type:b,tiles:l}}(n))}}}))(w);var x=function(){return Object(u.jsxs)("div",{className:"main-wrap",children:[Object(u.jsx)(i,{}),Object(u.jsx)(D,{}),Object(u.jsx)(s,{})]})};for(var A=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(a,{}),Object(u.jsx)(x,{})]})},U=r(3),P=r(12),G={player1:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],ai:new Set,currentPlayer:null},K=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(l),n.type){case h:return Object.assign({},l,{currentPlayer:n.name});case f:return Object.assign({},l,Object(P.a)({},n.name,n.newRack));default:return l}},k=new Set,I=1;I<=106;I++)k.add(I);var T=function(){var l,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,r=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(n),r.type){case b:l=new Set(n);for(var u=0;u<r.tiles.length;u++)l.delete(r.tiles[u]);return l;default:return n}},S=Object(U.b)({players:K,pouch:T}),_=Object(U.c)(S);document.addEventListener("DOMContentLoaded",(function(){window.getState=_.getState,window.dispatch=_.dispatch,t.a.render(Object(u.jsx)(m.a,{store:_,children:Object(u.jsx)(A,{})}),document.getElementById("root"))}))}},[[28,1,2]]]);
//# sourceMappingURL=main.ac962671.chunk.js.map